<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>内置数据类型</title>
    <!--格式化代码的特效脚本-->
    <script type="text/javascript" src="scripts/shCore.js"></script>
    <script type="text/javascript" src="scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCss.js"></script>
    <script type="text/javascript" src="scripts/shBrushDelphi.js"></script>
    <script type="text/javascript" src="scripts/shBrushDiff.js"></script>
    <script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
    <script type="text/javascript" src="scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="scripts/shBrushPlain.js"></script>
    <script type="text/javascript" src="scripts/shBrushRuby.js"></script>
    <script type="text/javascript" src="scripts/shBrushScala.js"></script>
    <script type="text/javascript" src="scripts/shBrushSql.js"></script>
    <script type="text/javascript" src="scripts/shBrushVb.js"></script>
    <script type="text/javascript" src="scripts/shBrushXml.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/shCoreZenki.css"/>
    <link type="text/css" rel="stylesheet" href="styles/shThemeZenki.css"/>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>
    <link rel="Stylesheet" type="text/css" href="../css_style/style_zenki.css">

</head>

<body>
<div id="wrapper">
<header>

<div id="logo">
</div>

<nav>
    <ul>
        <!--<li class="first"><a href="diary/diary.html">日记</a></li>-->
     </ul>
</nav>
</header>

<article>

<!-- wrap the vimwiki html -->

<h1 id="toc_1">内置数据类型</h1>

<div class="toc">
<ul>
<li><a href="#toc_1">内置数据类型</a>
<ul>
<li><a href="#toc_1.1">List使用</a>
<ul>
<li><a href="#toc_1.1.1">切片</a>
<li><a href="#toc_1.1.2">extend和append</a>
<li><a href="#toc_1.1.3">映射List</a>
</ul>
<li><a href="#toc_1.2">字符串处理</a>
<ul>
<li><a href="#toc_1.2.1">Tuple格式化字符串</a>
<li><a href="#toc_1.2.2">Dict格式化字符串</a>
<li><a href="#toc_1.2.3">字符串连接</a>
<li><a href="#toc_1.2.4">字符串分割</a>
<li><a href="#toc_1.2.5">字符矩阵转换</a>
</ul>
<li><a href="#toc_1.3">Dictionary使用</a>
<ul>
<li><a href="#toc_1.3.1">声明字典变量</a>
<li><a href="#toc_1.3.2">修改字典成员</a>
<li><a href="#toc_1.3.3">删除字典成员</a>
<li><a href="#toc_1.3.4">遍历字典</a>
</ul>
</ul>
</ul>
</div>

<h2 id="toc_1.1">List使用</h2>
<h3 id="toc_1.1.1">切片</h3>
<ul>
<li>
切片以<code>0</code>为开始索引，<code>-1</code>为末尾的索引。

<li>
[start:end]的切片形式表示从<code>start</code>索引开始，不包含<code>end</code>索引结束的区间。

</ul>

<pre class="brush:python">
&gt;&gt;&gt; a_list 
['a', 'b', 'mpilgrim', 'z', 'example'] 

&gt;&gt;&gt; a_list[::-1]
['example', 'z', 'mpilgrim', 'b', 'a'] 

&gt;&gt;&gt; a_list[1:3] 
['b', 'mpilgrim'] 

&gt;&gt;&gt; a_list[1:-1] 
['b', 'mpilgrim', 'z'] 

&gt;&gt;&gt; a_list[0:3] 
['a', 'b', 'mpilgrim'] 

&gt;&gt;&gt; a_list[:3] 
['a', 'b', 'mpilgrim'] 

&gt;&gt;&gt; a_list[3:] 
['z', 'example'] 

&gt;&gt;&gt; a_list[:] 
['a', 'b', 'mpilgrim', 'z', 'example']
</pre>

<h3 id="toc_1.1.2">extend和append</h3>
<ul>
<li>
extend用来扩展List的大小，并且扩展后的数据为同一类型。

<li>
append用来在List后追加数据，并且追加的数据可以是其他类型。

</ul>

<pre class="brush:python">
&gt;&gt;&gt; li = ['a', 'b', 'c']
&gt;&gt;&gt; li.extend(['d', 'e', 'f'])
&gt;&gt;&gt; li
['a', 'b', 'c', 'd', 'e', 'f']
&gt;&gt;&gt; len(li) 
6

&gt;&gt;&gt; li = ['a', 'b', 'c']
&gt;&gt;&gt; li.append(['d', 'e', 'f']) 
&gt;&gt;&gt; li
['a', 'b', 'c', ['d', 'e', 'f']]
&gt;&gt;&gt; len(li)                    
4
</pre>

<h3 id="toc_1.1.3">映射List</h3>
<ul>
<li>
可以在<code>[]</code>内部进行元素遍历和条件判断的操作，操作后结果仍然是一个List

</ul>

<pre class="brush:python">
&gt;&gt;&gt; a = [1, 2, 3, 4]
&gt;&gt;&gt; [i+1 for i in a if i &gt; 1]
[3, 4, 5]

&gt;&gt;&gt; params = {"server":"mpilgrim", "database":"master", "uid":"sa", "pwd":"secret"}
&gt;&gt;&gt; params.items()
[('server', 'mpilgrim'), ('uid', 'sa'), ('database', 'master'), ('pwd', 'secret')]
    
&gt;&gt;&gt; [k for k, v in params.items()]                
['server', 'uid', 'database', 'pwd']
&gt;&gt;&gt; [v for k, v in params.items()]                
['mpilgrim', 'sa', 'master', 'secret']
&gt;&gt;&gt; ["%s=%s" % (k, v) for k, v in params.items()] 
['server=mpilgrim', 'uid=sa', 'database=master', 'pwd=secret']
</pre>

<h2 id="toc_1.2">字符串处理</h2>
<h3 id="toc_1.2.1">Tuple格式化字符串</h3>
<pre class="brush:python">
# 使用Tuple格式化
&gt;&gt;&gt; k = "uid"
&gt;&gt;&gt; v = "sa"
&gt;&gt;&gt; "%s=%s" % (k, v)
'uid=sa'

&gt;&gt;&gt; print "Today's stock price: %f" % 50.4625   
50.462500
&gt;&gt;&gt; print "Today's stock price: %.2f" % 50.4625 
50.46
&gt;&gt;&gt; print "Change since yesterday: %+.2f" % 1.5 
+1.50
</pre>

<h3 id="toc_1.2.2">Dict格式化字符串</h3>
<ul>
<li>
格式为<code>"%(key)s" % {key:value...}</code>，括号里面的<code>key没有引号</code>，并且<code>括号后面需要加s</code>。

</ul>
 
<pre class="brush:python">
# 使用Dict格式化
&gt;&gt;&gt; "one=%(1)s, two=%(2)s" % {'1':'one', '2':'two'}
'one=one, two=two'
</pre>

<h3 id="toc_1.2.3">字符串连接</h3>
<pre class="brush:python">
&gt;&gt;&gt; li = ['server=mpilgrim', 'uid=sa', 'database=master', 'pwd=secret']
&gt;&gt;&gt; s = ";".join(li)
&gt;&gt;&gt; s
'server=mpilgrim;uid=sa;database=master;pwd=secret'
</pre>

<h3 id="toc_1.2.4">字符串分割</h3>
<pre class="brush:python">
&gt;&gt;&gt; s = ['server=mpilgrim', 'uid=sa', 'database=master', 'pwd=secret']
&gt;&gt;&gt; s.split(";")    1
['server=mpilgrim', 'uid=sa', 'database=master', 'pwd=secret']
&gt;&gt;&gt; s.split(";", 1) 2
['server=mpilgrim', 'uid=sa;database=master;pwd=secret']
</pre>

<h3 id="toc_1.2.5">字符矩阵转换</h3>
<ul>
<li>
通过string.maketrans方法创建一个对应的转换矩阵对象，<code>两个参数的长度必须一样</code>。

<li>
再通过string.translate方法根据这个矩阵对象转换任意的字符串。

</ul>

<pre class="brush:python">
# 做如下转换矩阵
# a =&gt; 1
# b =&gt; 2
# c =&gt; 3
&gt;&gt;&gt; t = string.maketrans('abc', '123')

# 转换字符串'abcbabc'
&gt;&gt;&gt; s = 'abcbabc'
&gt;&gt;&gt; s.translate(t)
'1232123'
</pre>

<h2 id="toc_1.3">Dictionary使用</h2>
<ul>
<li>
Dictionary类似于Perl中的hash，称为字典。格式为<code>{key:value...}</code>。

</ul>

<h3 id="toc_1.3.1">声明字典变量</h3>
<pre class="brush:python">
&gt;&gt;&gt; d = {"server":"mpilgrim", "database":"master"}
&gt;&gt;&gt; d
{'server': 'mpilgrim', 'database': 'master'}
</pre>

<h3 id="toc_1.3.2">修改字典成员</h3>
<pre class="brush:python">
&gt;&gt;&gt; d["database"] = "pubs"
&gt;&gt;&gt; d
{'server': 'mpilgrim', 'database': 'pubs'}
</pre>

<h3 id="toc_1.3.3">删除字典成员</h3>
<pre class="brush:python">
&gt;&gt;&gt; del d["database"]
&gt;&gt;&gt; d
{'server': 'mpilgrim'}
</pre>

<h3 id="toc_1.3.4">遍历字典</h3>
<pre class="brush:python">
&gt;&gt;&gt; for k, v in os.environ.items():
...     print "%s=%s" % (k, v)
</pre>


<footer>
    <a href="http://zenki2001cn.github.com/Wiki" id="back-home">首页</a>
    <a href="index.html" id="back-about">关于</a>
    <a href="zenki2001cn@163.com" id="back-email">Email</a>
</footer>

</article>
</div>

</body>
</html>
