<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>关键字</title>
    <!--格式化代码的特效脚本-->
    <script type="text/javascript" src="scripts/shCore.js"></script>
    <script type="text/javascript" src="scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCss.js"></script>
    <script type="text/javascript" src="scripts/shBrushDelphi.js"></script>
    <script type="text/javascript" src="scripts/shBrushDiff.js"></script>
    <script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
    <script type="text/javascript" src="scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="scripts/shBrushPlain.js"></script>
    <script type="text/javascript" src="scripts/shBrushRuby.js"></script>
    <script type="text/javascript" src="scripts/shBrushScala.js"></script>
    <script type="text/javascript" src="scripts/shBrushSql.js"></script>
    <script type="text/javascript" src="scripts/shBrushVb.js"></script>
    <script type="text/javascript" src="scripts/shBrushXml.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/shCoreZenki.css"/>
    <link type="text/css" rel="stylesheet" href="styles/shThemeZenki.css"/>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>
	<link type="text/css" rel="stylesheet" href="css_style/style_zenki.css"/>

</head>

<body>
<div id="wrapper">
<header>

<div id="logo">
</div>

<nav>
    <ul>
        <!--<li class="first"><a href="diary/diary.html">日记</a></li>-->
     </ul>
</nav>
</header>

<article>


<h1 id="toc_1">Makefile关键字</h1>

<div class="toc">
<ul>
<li><a href="#toc_1">Makefile关键字</a></li>
<ul>
<li><a href="#toc_1.1">关键字解析</a></li>
<ul>
<li><a href="#toc_1.1.1">vpath</a></li>
<li><a href="#toc_1.1.2">define</a></li>
<li><a href="#toc_1.1.3">override</a></li>
<li><a href="#toc_1.1.4">ifeq</a></li>
<li><a href="#toc_1.1.5">ifneq</a></li>
<li><a href="#toc_1.1.6">ifdef</a></li>
<li><a href="#toc_1.1.7">ifndef</a></li>
<li><a href="#toc_1.1.8">include</a></li>
</ul>
</ul>
</ul>
</div>

<h2 id="toc_1.1">关键字解析</h2>
<h3 id="toc_1.1.1">vpath</h3>
<ul>
<li>
它可以为不同类型的文件(由文件名区分)指定不同的搜索目录。它的使用方法有三种:
</li>
<ul>
<li>
<code>vpath PATTERN DIRECTORIES</code> (为所有符合模式“PATTERN”的文件指定搜索目录“DIRECTORIES”。多个目录使用空格或者冒号<code>:</code>分开。)
</li>
<li>
<code>vpath PATTERN</code> (清除之前为符合模式“PATTERN”的文件设置的搜索路径。)
</li>
<li>
<code>vpath</code> (清除所有已被设置的文件搜索路径。)
</li>
</ul>
</ul>

<pre class="brush:bash">
# Makefile中出现的.h文件;如果不能在当前目录下找到,则到目录“../headers”下寻找。
vpath %.h ../headers
</pre>

<h3 id="toc_1.1.2">define</h3>
<ul>
<li>
通常我们把使用“define”定义的一组命令称为一个命令包。定义一个命令包的语法以“define”开始, “endef”以结束。
</li>
<li>
由于使用“define”定义的变量属于递归展开式变量，因此，命令包中所有命令中对其它变量的引用，在规则被执行时会被完全展开。
</li>
</ul>

<pre class="brush:bash">
define frobnicate
    @echo "frobnicating target $@"
    frob-step-1 $&lt; -o $@-step-1
    frob-step-2 $@-step-1 -o $@
endef
</pre>

<pre class="brush:bash">
frob.out: frob.in
    @$(frobnicate)
</pre>

<h3 id="toc_1.1.3">override</h3>
<ul>
<li>
变量在定义时使用了“override”,则后续对它值进行追加时,也需要使用带有“override”指示符的追加方式。否则对此变量值的追加不会生效。
</li>
</ul>

<pre class="brush:bash">
override VARIABLE = VALUE

# 或者:
override VARIABLE := VALUE

#也可以对变量使用追加方式:
override VARIABLE += MORE TEXT
</pre>

<h3 id="toc_1.1.4">ifeq</h3>
<ul>
<li>
此关键字用来判断参数是否相等。
</li>
</ul>

<pre class="brush:bash">
ifeq ($(strip $(foo)),)
    TEXT-IF-EMPTY
endif
</pre>

<h3 id="toc_1.1.5">ifneq</h3>
<ul>
<li>
此关键字是用来判断参数是否不相等。
</li>
</ul>

<pre class="brush:bash">
ifneq ($(strip $(foo)),)
    TEXT-NO-EMPTY
endif
</pre>

<h3 id="toc_1.1.6">ifdef</h3>
<ul>
<li>
关键字“ifdef”用来判断一个变量是否已经定义。
</li>
</ul>

<pre class="brush:bash">
foo = $(bar)

ifdef foo
    frobozz = yes
else
    frobozz = no
endif
</pre>

<h3 id="toc_1.1.7">ifndef</h3>
<ul>
<li>
关键字“ifndef”实现的功能和“ifdef”相反。
</li>
</ul>

<pre class="brush:bash">
foo = $(bar)

ifndef foo
    frobozz = no
else
    frobozz = yes
endif
</pre>

<h3 id="toc_1.1.8">include</h3>
<ul>
<li>
“include”指示符告诉make暂停读取当前的Makefile,而转去读取“include”指定的一个或者多个文件,完成以后再继续当前Makefile的读取。
</li>
<li>
语法：include FILENAMES...
</li>
</ul>

<pre class="brush:bash">
include foo *.mk $(bar)

# 等价于

include foo a.mk b.mk c.mk bish bash
</pre>
<footer>
    <a href="index.html" id="back-home">首页</a>
    <a href="index.html" id="back-about">关于</a>
    <a href="http://www.163.com/" id="back-email">Email</a>
</footer>

</article>
</div>

<!--<script type="text/javascript">-->
<!--var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");-->
<!--document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));-->
<!--</script>-->
<!--<script type="text/javascript">-->
<!--try {-->
<!--var pageTracker = _gat._getTracker("UA-15922433-1");-->
<!--pageTracker._trackPageview();-->
<!--} catch(err) {}-->
<!--</script>-->

</body>
</html>
