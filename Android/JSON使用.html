<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>JSON使用</title>
    <!--格式化代码的特效脚本-->
    <script type="text/javascript" src="scripts/shCore.js"></script>
    <script type="text/javascript" src="scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCss.js"></script>
    <script type="text/javascript" src="scripts/shBrushDelphi.js"></script>
    <script type="text/javascript" src="scripts/shBrushDiff.js"></script>
    <script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
    <script type="text/javascript" src="scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="scripts/shBrushPlain.js"></script>
    <script type="text/javascript" src="scripts/shBrushRuby.js"></script>
    <script type="text/javascript" src="scripts/shBrushScala.js"></script>
    <script type="text/javascript" src="scripts/shBrushSql.js"></script>
    <script type="text/javascript" src="scripts/shBrushVb.js"></script>
    <script type="text/javascript" src="scripts/shBrushXml.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/shCoreZenki.css"/>
    <link type="text/css" rel="stylesheet" href="styles/shThemeZenki.css"/>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>
    <link rel="Stylesheet" type="text/css" href="../css_style/style_zenki.css">

</head>

<body>
<div id="wrapper">
<header>

<div id="logo">
</div>

<nav>
    <ul>
        <!--<li class="first"><a href="diary/diary.html">日记</a></li>-->
     </ul>
</nav>
</header>

<article>

<!-- wrap the vimwiki html -->

<h1 id="toc_1">JSON使用和说明</h1>

<h2 id="toc_1.1">相关类</h2>
<pre class="brush:java">
import org.json;
import org.json.JSONArray;
import org.json.JSONObject;
import org.json.JSONStringer;
import org.json.JSONTokener;
import org.json.JSONException;
</pre>

<h2 id="toc_1.2">概念</h2>
<ul>
<li>
一种数据交换格式

<li>
JavaScript对象作为字符串编码的一种方式

<li>
仅限于文本和数值。二进制值是明确不允许的。JSON 没有CDATA对应模式

<li>
在数据可读性费用方面、就数据大小而言比XML更经济

</ul>

<h2 id="toc_1.3">类列表</h2>
<table>
<tr>
<th>
类
</th>
<th>
描述
</th>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
JSON数组
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
JSON的一组Map对象
</td>
</tr>
<tr>
<td>
JSONStringer
</td>
<td>
生成JSON字符串
</td>
</tr>
<tr>
<td>
JSONTokener
</td>
<td>
将JSON字符串解析到对应的对象
</td>
</tr>
</table>

<h2 id="toc_1.4">JSONObject</h2>

<h3 id="toc_1.4.1">常用方法</h3>
<table>
<tr>
<th>
返回值
</th>
<th>
方法名
</th>
<th>
描述
</th>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
put(String  name, boolean value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
put(String  name, double value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
put(String  name, Object  value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
put(String  name, int value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
put(String  name, long value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
putOpt(String  name, Object  value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
Object
</td>
<td>
get(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
boolean
</td>
<td>
getBoolean(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
double
</td>
<td>
getDouble(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
int
</td>
<td>
getInt(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
long
</td>
<td>
getLong(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
String
</td>
<td>
getString(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
getJSONObject(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
getJSONArray(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
boolean
</td>
<td>
isNull(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
Iterator
</td>
<td>
keys()
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
int
</td>
<td>
length()
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
names()
</td>
<td>
&nbsp;
</td>
</tr>
</table>

<ul>
<li>
<code>put</code>系列方法将设置一组key/value的map数据类型

<li>
<code>get*</code>系列方法根据key获取value的值

<li>
<code>opt*</code>系列方法和<code>get*</code>系列一样，区别在于如果没有key值则返回一个默认值，而不抛出异常

</ul>

<h3 id="toc_1.4.2">示例代码</h3>
<pre class="brush:java">
// JSON格式 {"name1":"zenki1", "name2":"zenki2", "name3":"zenki3"}
try {
    JSONObject jsonObject = new JSONObject();
    
    jsonObject.put("name1", "zenki1");
    jsonObject.put("name2", "zenki2");
    jsonObject.put("name3", "zenki3");
}
catch(JSONException e) {
    throw new RuntimeException(e);
}
</pre>

<h2 id="toc_1.5">JSONArray</h2>

<h3 id="toc_1.5.1">常用方法</h3>
<table>
<tr>
<th>
返回值
</th>
<th>
方法名
</th>
<th>
描述
</th>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
put(int index, boolean value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
put(int index, long value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
put(boolean value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
put(long value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
put(int value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
Object
</td>
<td>
get(int index)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
boolean
</td>
<td>
getBoolean(int index)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
double
</td>
<td>
getDouble(int index)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONArray
</td>
<td>
getJSONArray(int index)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
getJSONObject(int index)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
boolean
</td>
<td>
isNull(int index)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
int
</td>
<td>
length()
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONObject
</td>
<td>
toJSONObject(JSONArray  names)
</td>
<td>
&nbsp;
</td>
</tr>
</table>

<ul>
<li>
<code>put</code>系列方法将值插入JSON数组中或添加到数组末尾

<li>
<code>get*</code>系列方法以索引号为参数获取数组中的值

<li>
<code>opt*</code>系列方法和<code>get*</code>系列一样，区别在于如果没有key值则返回一个默认值，而不抛出异常

</ul>

<h3 id="toc_1.5.2">示例代码</h3>
<pre class="brush:java">
// JSON格式 [{"name1":"zenki1"}, {"name2":"zenki2"}, {"name3":"zenki3"}]
try {
    JSONArray jsonArray = new JSONArray();

    jsonArray.put(new JSONObject().put("name1", "zenki1"));
    jsonArray.put(new JSONObject().put("name2", "zenki2"));
    jsonArray.put(new JSONObject().put("name3", "zenki3"));
}
catch(JSONException e) {
    throw new RuntimeException(e);
}
</pre>

<h2 id="toc_1.6">JSONStringer</h2>

<h3 id="toc_1.6.1">常用方法</h3>
<table>
<tr>
<th>
返回值
</th>
<th>
方法名
</th>
<th>
描述
</th>
</tr>
<tr>
<td>
JSONStringer
</td>
<td>
object()
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONStringer
</td>
<td>
endObject()
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONStringer
</td>
<td>
array()
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONStringer
</td>
<td>
endArray()
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONStringer
</td>
<td>
key(String  name)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
JSONStringer
</td>
<td>
value(Object  value)
</td>
<td>
&nbsp;
</td>
</tr>
<tr>
<td>
String
</td>
<td>
toString()
</td>
<td>
&nbsp;
</td>
</tr>
</table>

<ul>
<li>
快速构建一个JSON数据形式的字符串

</ul>

<h3 id="toc_1.6.2">示例代码</h3>
<pre class="brush:java">
String myString = new JSONStringer().object()
                                    .key(“AR”).value(“www.Androidres.com!”)
                                    .endObject()
                                    .toString();
</pre>


<footer>
    <a href="index.html" id="back-home">首页</a>
    <a href="index.html" id="back-about">关于</a>
    <a href="http://www.163.com/" id="back-email">Email</a>
</footer>

</article>
</div>

</body>
</html>
