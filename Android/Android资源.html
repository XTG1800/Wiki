<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Android资源</title>
    <!--格式化代码的特效脚本-->
    <script type="text/javascript" src="scripts/shCore.js"></script>
    <script type="text/javascript" src="scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCss.js"></script>
    <script type="text/javascript" src="scripts/shBrushDelphi.js"></script>
    <script type="text/javascript" src="scripts/shBrushDiff.js"></script>
    <script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
    <script type="text/javascript" src="scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="scripts/shBrushPlain.js"></script>
    <script type="text/javascript" src="scripts/shBrushRuby.js"></script>
    <script type="text/javascript" src="scripts/shBrushScala.js"></script>
    <script type="text/javascript" src="scripts/shBrushSql.js"></script>
    <script type="text/javascript" src="scripts/shBrushVb.js"></script>
    <script type="text/javascript" src="scripts/shBrushXml.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/shCoreZenki.css"/>
    <link type="text/css" rel="stylesheet" href="styles/shThemeZenki.css"/>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>
    <link rel="Stylesheet" type="text/css" href="../css_style/style_zenki.css">

</head>

<body>
<div id="wrapper">
<header>

<div id="logo">
</div>

<nav>
    <ul>
        <!--<li class="first"><a href="diary/diary.html">日记</a></li>-->
     </ul>
</nav>
</header>

<article>

<!-- wrap the vimwiki html -->

<h1 id="toc_1">Android Resource</h1>

<h2 id="toc_1.1">相关文件夹介绍</h2>

<table>
<tr>
<th>
目录
</th>
<th>
资源类型
</th>
</tr>
<tr>
<td>
res/anim/
</td>
<td>
XML文件，它们被编译进逐帧动画(frame by frame animation)或补间动画(tweened animation)对象
</td>
</tr>
<tr>
<td>
res/drawable/
</td>
<td>
.png、.9.png、.jpg文件，使用mContext.getResources().getDrawable(R.drawable.imageId)获取该资源
</td>
</tr>
<tr>
<td>
res/layout/
</td>
<td>
被编译为屏幕布局(或屏幕的一部分)的XML文件。
</td>
</tr>
<tr>
<td>
res/values/
</td>
<td>
可以被编译成很多种类型的资源的XML文件。
</td>
</tr>
<tr>
<td>
res/xml/
</td>
<td>
任意的XML文件，在运行时可以通过调用Resources.getXML()读取。如array.xml，colors.xml，dimens.xml，strings.xml，styles.xml等
</td>
</tr>
<tr>
<td>
res/raw/
</td>
<td>
直接复制到设备中的任意文件。它们无需编译，添加到你的应用程序编译产生的压缩文件中。要使用这些资源，可以调用Resources.openRawResource()，参数是资源的ID，即R.raw.somefilename。
</td>
</tr>
</table>

<h2 id="toc_1.2">自动生成的R文件</h2>
<blockquote>
在项目文件夹的gen文件夹里面有个R.java，我们平常引用的资源主要引用这个类的变量。
</blockquote>
<blockquote>
注意：R类是自动生成的，并且它不能被手动修改。当资源发生变动时，它会自动修改。
</blockquote>
    
<h2 id="toc_1.3">如何使用资源</h2>
<p>
下面是一个引用资源的语法：R.resource_type.resource_name  或者 android.R.resource_type.resource_name
</p>
 
<p>
其中resource_type是R的子类，保存资源的一个特定类型。resource_name是在XML 文件定义的资源的name属性，
</p>

<p>
或者有其他文件类型为资源定义的文件名（不包含扩展名，这指的是drawable文件夹里面的icon.png类似的文件，name=icon）。
</p>

<p>
Android包含了很多标准资源，如屏幕样式和按钮背景。要在代码中引用这些资源，你必须使用android进行限定，如android.R.drawable.button_background。
</p>

<pre class="brush:java">
// 装载图片资源，my_background_image为图片名
this.getWindow().setBackgroundDrawableResource(R.drawable.my_background_image); 
 
// 错误的调用方法，应该将该资源转换成字符串类型
this.getWindow().setTitle(R.string.main_title); 
 
// 正确的方法
this.getWindow().setTitle(Resources.getText(R.string.main_title)); 
  
// 加载布局文件，main_screen为文件名
setContentView(R.layout.main_screen); 
 
// 加载动画资源，hyperspace_in为动画文件名
mFlipper.setInAnimation(AnimationUtils.loadAnimation(this,  
        R.anim.hyperspace_in)); 
  
// msg为id标识，hello_message为字符串名
TextView msgTextView = (TextView)findViewByID(R.id.msg); 
msgTextView.setText(R.string.hello_message);  
</pre>

<h2 id="toc_1.4">在xml中使用资源</h2>
<ul>
<li>
引用自定义的资源，android:text="@string/hello"，这里使用"@"前缀引入对一个资源的引用--在@[package:]type/name形式中后面的文本是资源的名称。type是xml子节点名，name是xml属性名：

</ul>

<pre class="brush:xml">
&lt;?xml version="1.0" encoding="utf-8"?&gt; 
&lt;resources&gt; 
   &lt;string name="hello"&gt;Hello World, HelloDemo!&lt;/string&gt; 
&lt;/resources&gt; 
</pre>
 
<ul>
<li>
引用系统资源，android:textColor="@android:color/opaque_red"   指定package: android

</ul>
 
<ul>
<li>
引用主题属性

</ul>

<pre class="brush:text">
另外一种资源值允许你引用当前主题中的属性的值。这个属性值只能在样式资源和XML属性中使用；它允许你通过将它们改变为当前主题提供的标准变化来改变UI元素的外观，
而不是提供具体的值。android:textColor="?android:textDisabledColor"，注意，这和资源引用非常类似，除了我们使用一个"?"前缀代替了"@"。当你使用这个标记时，
你就提供了属性资源的名称，它将会在主题中被查找--因为资源工具知道需要的属性资源，所以你不需要显示声明这个类型(如果声明，其形式就是?android:attr/android:
textDisabledColor)。除了使用这个资源的标识符来查询主题中的值代替原始的资源，其命名语法和"@"形式一致：?[namespace:]type/name，这里类型可选。
</pre>

<h2 id="toc_1.5">assets文件夹资源</h2>
<ul>
<li>
assets文件夹里面的文件都是保持原始的文件格式，需要用AssetManager以字节流的形式读取文件。

</ul>

<pre class="brush:text">
1. 先在Activity里面调用getAssets()来获取AssetManager引用。
2. 再用AssetManager的open(String fileName, int accessMode)方法则指定读取的文件以及访问模式就能得到输入流InputStream。 
3. 然后就是用已经open file 的inputStream读取文件，读取完成后记得inputStream.close()。
4. 调用AssetManager.close()关闭AssetManager。
</pre>


<footer>
    <a href="index.html" id="back-home">首页</a>
    <a href="index.html" id="back-about">关于</a>
    <a href="http://www.163.com/" id="back-email">Email</a>
</footer>

</article>
</div>

</body>
</html>
