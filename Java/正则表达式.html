<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>正则表达式</title>
    <!--格式化代码的特效脚本-->
    <script type="text/javascript" src="scripts/shCore.js"></script>
    <script type="text/javascript" src="scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCss.js"></script>
    <script type="text/javascript" src="scripts/shBrushDelphi.js"></script>
    <script type="text/javascript" src="scripts/shBrushDiff.js"></script>
    <script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
    <script type="text/javascript" src="scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="scripts/shBrushPlain.js"></script>
    <script type="text/javascript" src="scripts/shBrushRuby.js"></script>
    <script type="text/javascript" src="scripts/shBrushScala.js"></script>
    <script type="text/javascript" src="scripts/shBrushSql.js"></script>
    <script type="text/javascript" src="scripts/shBrushVb.js"></script>
    <script type="text/javascript" src="scripts/shBrushXml.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/shCoreZenki.css"/>
    <link type="text/css" rel="stylesheet" href="styles/shThemeZenki.css"/>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>
	<link type="text/css" rel="stylesheet" href="css_style/style_zenki.css"/>

</head>

<body>
<div id="wrapper">
<header>

<div id="logo">
</div>

<nav>
    <ul>
        <!--<li class="first"><a href="diary/diary.html">日记</a></li>-->
     </ul>
</nav>
</header>

<article>


<h1 id="toc_1">正则表达式</h1>

<h2 id="toc_1.1">正则表达式规则</h2>

<p>
<strong>字符</strong>
<table>
<tr>
<th>表达式</th>
<th>语义</th>
</tr>
<tr>
<td>B</td>
<td>字符B</td>
</tr>
<tr>
<td>\xhh</td>
<td>十六进制\0hh</td>
</tr>
<tr>
<td>\uhhhh</td>
<td>十六进制的unicode，0xhhhh</td>
</tr>
<tr>
<td>\t</td>
<td>制表符</td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
</tr>
<tr>
<td>\r</td>
<td>回车</td>
</tr>
<tr>
<td>\f</td>
<td>换页</td>
</tr>
<tr>
<td>\e</td>
<td>Escape</td>
</tr>
</table>
</p>

<p>
<strong>字符类</strong>
<table>
<tr>
<th>表达式</th>
<th>语义</th>
</tr>
<tr>
<td>.</td>
<td>表示任何字符</td>
</tr>
<tr>
<td>[abc]</td>
<td>包含a,b,c的任何字符</td>
</tr>
<tr>
<td>[^abc]</td>
<td>除a,b,c之外的任何字符</td>
</tr>
<tr>
<td>[a-zA-Z]</td>
<td>任何从a到z,从A到Z的字符</td>
</tr>
<tr>
<td>[abc[hij]]</td>
<td>包含a,b,c,h,i,j的任何字符</td>
</tr>
<tr>
<td>[a-z &amp;&amp; [hij]]</td>
<td>任意h,i,j</td>
</tr>
<tr>
<td>\s</td>
<td>空格，tab，换行，换页，回车</td>
</tr>
<tr>
<td>\S</td>
<td>非空白符</td>
</tr>
<tr>
<td>\d</td>
<td>数字[0-9]</td>
</tr>
<tr>
<td>\D</td>
<td>非数字</td>
</tr>
<tr>
<td>\w</td>
<td>字母和数字[a-zA-Z_0-9]</td>
</tr>
<tr>
<td>\W</td>
<td>非字母和数字</td>
</tr>
</table>
</p>

<p>
<strong>逻辑操作</strong>
<table>
<tr>
<th>表达式</th>
<th>语义</th>
</tr>
<tr>
<td>xy</td>
<td>xy</td>
</tr>
<tr>
<td>x/y</td>
<td>x或y</td>
</tr>
<tr>
<td>(x)</td>
<td>随后可以用\i来引用第i个group</td>
</tr>
</table>
</p>

<p>
<strong>边界检查</strong>
<table>
<tr>
<th>表达式</th>
<th>语义</th>
</tr>
<tr>
<td>^</td>
<td>一行开始</td>
</tr>
<tr>
<td>$</td>
<td>一行结束</td>
</tr>
<tr>
<td>\b</td>
<td>词界</td>
</tr>
<tr>
<td>\B</td>
<td>非词界</td>
</tr>
<tr>
<td>\G</td>
<td>上一级结尾</td>
</tr>
</table>
</p>

<p>
<strong>量词</strong>
<table>
<tr>
<th>贪婪的</th>
<th>勉强的</th>
<th>占有的</th>
<th>语义</th>
</tr>
<tr>
<td>X?</td>
<td>X??</td>
<td>X?+</td>
<td>X,一或无</td>
</tr>
<tr>
<td>X*</td>
<td>X*?</td>
<td>X*+</td>
<td>X,0或多个</td>
</tr>
<tr>
<td>X+</td>
<td>X+?</td>
<td>X++</td>
<td>X,1或多个</td>
</tr>
<tr>
<td>X{n}</td>
<td>X{n}?</td>
<td>X{n}+</td>
<td>X,恰好n次</td>
</tr>
<tr>
<td>X{n,}</td>
<td>X{n,}?</td>
<td>X{n,}+</td>
<td>X,至少n次</td>
</tr>
<tr>
<td>X{n,m}</td>
<td>X{n,m}?</td>
<td>X{n,m}+</td>
<td>X,至少n次，不多于m次</td>
</tr>
</table>
</p>

<h2 id="toc_1.2">两个类：模式和匹配器</h2>
<ul>
<li>
java.util.regex.Pattern类和java.util.regex.Matcher类
</li>
<li>
Pattern用来编译正则表达式，Matcher用来处理符合正则表达式的元素
</li>
</ul>

<pre class="brush:java">
Pattern p = Pattern.compile(args[1]);
Matcher m = p.matcher(args[0]);
while(m.find()) {
    System.out.println("Match \"" + m.group() + 
                       "\" at positions " + m.start() + 
                       "-" + (m.end() - 1));
}
</pre>

<h2 id="toc_1.3">反斜线用法</h2>
<blockquote>
在 Java 中,“\\”意味着“我正在插入一个正则表达式反斜杠,那么随后的字符具有特殊意义。”
例如,我们想指示一个或多个字符,我们的正则表达式串仍旧是“\\w+”这种形式。 
如果我们想插入一个字面意义上的反斜杠,我们得这样表示“\\\\”。
然而,像换行符和制表符这样的字符只需要用到一个反斜杠:“\n\t”
</blockquote>
<h2 id="toc_1.4">模式标记</h2>
<ul>
<li>
Pattern Pattern.compile(String regex, int flag)
</li>
</ul>

<table>
<tr>
<th>Flag</th>
<th>说明</th>
</tr>
<tr>
<td>Pattern.CANON_EQ</td>
<td>仅当完全规范分解匹配时，认为他们是匹配的</td>
</tr>
<tr>
<td>Pattern.CASE_INSENSITIVE</td>
<td>不考虑大小写</td>
</tr>
<tr>
<td>Pattern.COMMENTS</td>
<td>空格行将被忽略，且以#开头的注释行也被忽略</td>
</tr>
<tr>
<td>Pattern.DOTALL</td>
<td>“.”号匹配所有字符，包括行终结符</td>
</tr>
<tr>
<td>Pattern.MULTILINE</td>
<td>“^”和“$”匹配多行模式下的开始和结束</td>
</tr>
<tr>
<td>Pattern.UNICODE_CASE</td>
<td>与CASE_INSENSITIVE同时使用时，可以和UNICODE标准相一致</td>
</tr>
<tr>
<td>Pattern.UNIX_LINES</td>
<td>“.”，“^”和“$”只识别行终结符'\n'</td>
</tr>
</table>

<ul>
<li>
可以使用“|”方式相结合
</li>
</ul>

<pre class="brush:java">
Pattern p = Pattern.compile("^java",
            Pattern.CASE_INSENSITIVE | Pattern.MULTILINE);
</pre>
<footer>
    <a href="index.html" id="back-home">首页</a>
    <a href="index.html" id="back-about">关于</a>
    <a href="http://www.163.com/" id="back-email">Email</a>
</footer>

</article>
</div>

<!--<script type="text/javascript">-->
<!--var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");-->
<!--document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));-->
<!--</script>-->
<!--<script type="text/javascript">-->
<!--try {-->
<!--var pageTracker = _gat._getTracker("UA-15922433-1");-->
<!--pageTracker._trackPageview();-->
<!--} catch(err) {}-->
<!--</script>-->

</body>
</html>
