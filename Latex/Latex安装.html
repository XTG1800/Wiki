<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Latex安装</title>
    <!--格式化代码的特效脚本-->
    <script type="text/javascript" src="scripts/shCore.js"></script>
    <script type="text/javascript" src="scripts/shBrushBash.js"></script>
    <script type="text/javascript" src="scripts/shBrushCpp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCSharp.js"></script>
    <script type="text/javascript" src="scripts/shBrushCss.js"></script>
    <script type="text/javascript" src="scripts/shBrushDelphi.js"></script>
    <script type="text/javascript" src="scripts/shBrushDiff.js"></script>
    <script type="text/javascript" src="scripts/shBrushGroovy.js"></script>
    <script type="text/javascript" src="scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="scripts/shBrushPython.js"></script>
    <script type="text/javascript" src="scripts/shBrushPlain.js"></script>
    <script type="text/javascript" src="scripts/shBrushRuby.js"></script>
    <script type="text/javascript" src="scripts/shBrushScala.js"></script>
    <script type="text/javascript" src="scripts/shBrushSql.js"></script>
    <script type="text/javascript" src="scripts/shBrushVb.js"></script>
    <script type="text/javascript" src="scripts/shBrushXml.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/shCoreZenki.css"/>
    <link type="text/css" rel="stylesheet" href="styles/shThemeZenki.css"/>
    <script type="text/javascript">
        SyntaxHighlighter.all();
    </script>
    <link rel="Stylesheet" type="text/css" href="../css_style/style_zenki.css">

</head>

<body>
<div id="wrapper">
<header>

<div id="logo">
</div>

<nav>
    <ul>
        <!--<li class="first"><a href="diary/diary.html">日记</a></li>-->
     </ul>
</nav>
</header>

<article>

<!-- wrap the vimwiki html -->

<h1 id="toc_1">安装Latex的注意事项</h1>

<div class="toc">
<ul>
<li><a href="#toc_1">安装Latex的注意事项</a>
<ul>
<li><a href="#toc_1.1">安装基本程序和库</a>
<ul>
<li><a href="#toc_1.1.1">1.安装TexLive+Latex+CJK</a>
<li><a href="#toc_1.1.2">2.安装中文支持</a>
</ul>
<li><a href="#toc_1.2">生成中文字体包</a>
<ul>
<li><a href="#toc_1.2.1">1.安装字体生成工具</a>
<li><a href="#toc_1.2.2">2.创建字体地图</a>
<li><a href="#toc_1.2.3">3.创建字体映射文件</a>
<li><a href="#toc_1.2.4">4.创建c70song.fd文件</a>
</ul>
<li><a href="#toc_1.3">刷新字库</a>
<li><a href="#toc_1.4">测试latex</a>
<ul>
<li><a href="#toc_1.4.1">1.测试示例</a>
<li><a href="#toc_1.4.2">2.生成pdf</a>
</ul>
<li><a href="#toc_1.5">参考链接</a>
</ul>
</ul>
</div>

<h2 id="toc_1.1">安装基本程序和库</h2>
<h3 id="toc_1.1.1">1.安装TexLive+Latex+CJK</h3>
<pre class="brush:bash">
# 安装Latex宏包
$ sudo apt-get install texlive texlive-math-extra texlive-latex-base texlive-latex-extra \
         texlive-latex-recommended texlive-pictures texlive-science texlive-bibtex-extra \
         texlive-common latex-beamer
# 或者完整安装
$ sudo apt-get install texlive-full latex-beamer
</pre>

<h3 id="toc_1.1.2">2.安装中文支持</h3>
<pre class="brush:bash">
$ sudo apt-get install latex-cjk-chinese ttf-arphic-*
</pre>

<h2 id="toc_1.2">生成中文字体包</h2>
<h3 id="toc_1.2.1">1.安装字体生成工具</h3>
<pre class="brush:bash">
$ sudo apt-get install fontforge
</pre>

<h3 id="toc_1.2.2">2.创建字体地图</h3>
<p>
<a href="pic/font.tar.bz2.html">pic/font.tar.bz2</a>
</p>

<pre class="brush:bash">
# 创建~/font目录，将font.tar.bz2解压并拷贝到~/font目录，把simsun.ttc（以该字体为例）也拷贝到该目录。
$ mkdir ~/font
$ cp simsun.ttc ~/font
$ cd ~/font/

# 执行以下命令生成字体地图
$ fontforge -script subfonts.pe simsun.ttc song Unicode.sfd
</pre>

<h3 id="toc_1.2.3">3.创建字体映射文件</h3>
<pre class="brush:bash">
# 在~/font目录下，将以下内容保存成makemap.sh脚本，并执行该脚本。
for i in *.tfm
do
cat &gt;&gt; song.map &lt;&lt; EOF
${i%.tfm} ${i%.tfm} &lt; ${i%.tfm}.pfb
EOF
done
</pre>

<h3 id="toc_1.2.4">4.创建c70song.fd文件</h3>
<pre class="brush:bash">
# 在~/font目录下，将以下内容保存成c70song.fd文件。
% This is c70song.fd for CJK package.
% created by Edward G.J. Lee
% modify by Yue Wang
\ProvidesFile{c70song.fd}
\DeclareFontFamily{C70}{song}{\hyphenchar \font\m@ne}
\DeclareFontShape{C70}{song}{m}{n}{&lt;-&gt; CJK * song}{}
\DeclareFontShape{C70}{song}{bx}{n}{&lt;-&gt; CJKb * song}{\CJKbold}
\endinput
</pre>

<h2 id="toc_1.3">刷新字库</h2>
<pre class="brush:bash">
# 创建配置文件夹
$ mkdir -p ~/.texmf-var/fonts/map/dvips/CJK
$ mkdir -p ~/.texmf-var/fonts/tfm/CJK/song
$ mkdir -p ~/.texmf-var/fonts/type1/CJK/song
$ mkdir -p ~/.texmf-var/tex/latex/CJK/UTF8

# 拷贝字体文件
$ cp ~/font/song.map ~/.texmf-var/fonts/map/dvips/CJK
$ cp ~/font/*.tfm ~/.texmf-var/fonts/tfm/CJK/song
$ cp ~/font/*.pfb ~/.texmf-var/fonts/type1/CJK/song
$ cp ~/font/c70song.fd ~/.texmf-var/tex/latex/CJK/UTF8

# 刷新字体缓存
$ sudo texhash
$ updmap --enable Map song.map
</pre>

<h2 id="toc_1.4">测试latex</h2>
<h3 id="toc_1.4.1">1.测试示例</h3>
<pre class="brush:bash">
# 将以下文件保存成test.tex
\documentclass{article}
\usepackage{CJKutf8}
\begin{document}
\begin{CJK}{UTF8}{song}
这是一个Latex测试!
\end{CJK}
\end{document}
</pre>

<h3 id="toc_1.4.2">2.生成pdf</h3>
<pre class="brush:bash">
$ pdflatex test.tex
$ evince test.pdf
</pre>

<h2 id="toc_1.5">参考链接</h2>
<p>
<a href="http://www.dutor.net/index.php/2009/06/ubuntu-texlive-cjk/">http://www.dutor.net/index.php/2009/06/ubuntu-texlive-cjk/</a>
</p>


<footer>
    <a href="http://zenki2001cn.github.com/Wiki" id="back-home">首页</a>
    <a href="index.html" id="back-about">关于</a>
    <a href="zenki2001cn@163.com" id="back-email">Email</a>
</footer>

</article>
</div>

</body>
</html>
